(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{6123:function(e,r,t){Promise.resolve().then(t.bind(t,298))},298:function(e,r,t){"use strict";t.d(r,{default:function(){return _}});var n=t(6943),s=t(2995),a=t(7879),o=t(4663),i=t(5214),c=t(5008),l=t(1047),u=t(1253),d=t(1921);function f(e){let r=a.useRef(e);return a.useEffect(()=>{r.current=e}),a.useMemo(()=>(...e)=>r.current?.(...e),[])}var m=globalThis?.document?a.useLayoutEffect:()=>{},p=t(6928),x="Switch",[h,b]=function(e,r=[]){let t=[],s=()=>{let r=t.map(e=>a.createContext(e));return function(t){let n=t?.[e]||r;return a.useMemo(()=>({[`__scope${e}`]:{...t,[e]:n}}),[t,n])}};return s.scopeName=e,[function(r,s){let o=a.createContext(s),i=t.length;function c(r){let{scope:t,children:s,...c}=r,l=t?.[e][i]||o,u=a.useMemo(()=>c,Object.values(c));return(0,n.jsx)(l.Provider,{value:u,children:s})}return t=[...t,s],c.displayName=r+"Provider",[c,function(t,n){let c=n?.[e][i]||o,l=a.useContext(c);if(l)return l;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=t.reduce((r,{useScope:t,scopeName:n})=>{let s=t(e)[`__scope${n}`];return{...r,...s}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:n}),[n])}};return t.scopeName=r.scopeName,t}(s,...r)]}(x),[g,v]=h(x),y=a.forwardRef((e,r)=>{let{__scopeSwitch:t,name:s,checked:o,defaultChecked:i,required:c,disabled:l,value:u="on",onCheckedChange:m,...x}=e,[h,b]=a.useState(null),v=(0,d.e)(r,e=>b(e)),y=a.useRef(!1),j=!h||!!h.closest("form"),[N=!1,C]=function({prop:e,defaultProp:r,onChange:t=()=>{}}){let[n,s]=function({defaultProp:e,onChange:r}){let t=a.useState(e),[n]=t,s=a.useRef(n),o=f(r);return a.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),t}({defaultProp:r,onChange:t}),o=void 0!==e,i=o?e:n,c=f(t);return[i,a.useCallback(r=>{if(o){let t="function"==typeof r?r(e):r;t!==e&&c(t)}else s(r)},[o,e,s,c])]}({prop:o,defaultProp:i,onChange:m});return(0,n.jsxs)(g,{scope:t,checked:N,disabled:l,children:[(0,n.jsx)(p.WV.button,{type:"button",role:"switch","aria-checked":N,"aria-required":c,"data-state":w(N),"data-disabled":l?"":void 0,disabled:l,value:u,...x,ref:v,onClick:function(e,r,{checkForDefaultPrevented:t=!0}={}){return function(n){if(e?.(n),!1===t||!n.defaultPrevented)return r?.(n)}}(e.onClick,e=>{C(e=>!e),j&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),j&&(0,n.jsx)(k,{control:h,bubbles:!y.current,name:s,value:u,checked:N,required:c,disabled:l,style:{transform:"translateX(-100%)"}})]})});y.displayName=x;var j="SwitchThumb",N=a.forwardRef((e,r)=>{let{__scopeSwitch:t,...s}=e,a=v(j,t);return(0,n.jsx)(p.WV.span,{"data-state":w(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r})});N.displayName=j;var k=e=>{let{control:r,checked:t,bubbles:s=!0,...o}=e,i=a.useRef(null),c=function(e){let r=a.useRef({value:e,previous:e});return a.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}(t),l=function(e){let[r,t]=a.useState(void 0);return m(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let r=new ResizeObserver(r=>{let n,s;if(!Array.isArray(r)||!r.length)return;let a=r[0];if("borderBoxSize"in a){let e=a.borderBoxSize,r=Array.isArray(e)?e[0]:e;n=r.inlineSize,s=r.blockSize}else n=e.offsetWidth,s=e.offsetHeight;t({width:n,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}t(void 0)},[e]),r}(r);return a.useEffect(()=>{let e=i.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==t&&r){let n=new Event("click",{bubbles:s});r.call(e,t),e.dispatchEvent(n)}},[c,t,s]),(0,n.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function w(e){return e?"checked":"unchecked"}var C=t(8963);let S=a.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(y,{className:(0,C.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:(0,n.jsx)(N,{className:(0,C.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});S.displayName=y.displayName;var R=t(3749);function _(){var e;let[r,t]=(0,a.useState)(),d=i.z.object({urlStr:i.z.string().url(),noSs:i.z.coerce.boolean(),noVmess:i.z.coerce.boolean(),useDomains:i.z.coerce.boolean(),exclude:i.z.array(i.z.number()).optional()}),{handleSubmit:f,register:m,control:p,reset:x,formState:{errors:h}}=(0,o.cI)({resolver:(0,s.F)(d),defaultValues:{noSs:!1,noVmess:!1,useDomains:!1}}),b=async e=>{console.log(e);let r=new URL(e.urlStr);e.noVmess&&r.searchParams.append("novmess","1"),e.noSs&&r.searchParams.append("noss","1"),e.useDomains&&r.searchParams.append("usedomains","1"),t(r)};return(0,n.jsxs)(l.Zb,{children:[(0,n.jsx)(l.Ol,{children:(0,n.jsx)(l.ll,{children:"Just My Socket 订阅地址选项配置"})}),(0,n.jsx)(l.aY,{children:(0,n.jsxs)("div",{className:"grid gap-4",children:[(0,n.jsxs)("form",{className:"grid gap-4",onSubmit:f(b),children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(u._,{children:"订阅地址"}),(0,n.jsx)(R.g,{...m("urlStr"),placeholder:"https://jmssub.net/members/getsub.php?service=xxxxxx&id=xxxxxxxx"}),(null===(e=h.urlStr)||void 0===e?void 0:e.message)&&(0,n.jsx)("small",{className:"text-secondary-foreground",children:h.urlStr.message})]}),(0,n.jsx)(o.Qr,{control:p,name:"noSs",render:e=>{let{field:r}=e;return(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(S,{checked:r.value,id:r.name,onCheckedChange:r.onChange}),(0,n.jsx)(u._,{htmlFor:r.name,children:"排除 Shadowsocks 节点"})]})}}),(0,n.jsx)(o.Qr,{control:p,name:"noVmess",render:e=>{let{field:r}=e;return(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(S,{checked:r.value,id:r.name,onCheckedChange:r.onChange}),(0,n.jsx)(u._,{htmlFor:r.name,children:"排除 Vmess 节点"})]})}}),(0,n.jsx)(o.Qr,{control:p,name:"useDomains",render:e=>{let{field:r}=e;return(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(S,{checked:r.value,id:r.name,onCheckedChange:r.onChange}),(0,n.jsx)(u._,{htmlFor:r.name,children:"使用域名节点而不是 IP 节点"})]})}}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(c.z,{type:"submit",children:"转换"}),(0,n.jsx)(c.z,{onClick:()=>{x(),t(void 0)},type:"reset",variant:"secondary",children:"重置"})]})]}),(0,n.jsxs)("div",{className:"mt-4 grid gap-2",children:[(0,n.jsx)(u._,{children:"转换结果"}),(0,n.jsx)(R.g,{readOnly:!0,value:null==r?void 0:r.toString()})]})]})})]})}},8963:function(e,r,t){"use strict";t.d(r,{cn:function(){return a}});var n=t(1488),s=t(689);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,n.W)(r))}},5008:function(e,r,t){"use strict";t.d(r,{z:function(){return l}});var n=t(6943),s=t(8942),a=t(8737),o=t(7879),i=t(8963);let c=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,r)=>{let{className:t,variant:a,size:o,asChild:l=!1,...u}=e,d=l?s.g7:"button";return(0,n.jsx)(d,{className:(0,i.cn)(c({variant:a,size:o,className:t})),ref:r,...u})});l.displayName="Button"},1047:function(e,r,t){"use strict";t.d(r,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return o},aY:function(){return u},ll:function(){return c}});var n=t(6943),s=t(7879),a=t(8963);let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),ref:r,...s})});o.displayName="Card";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),ref:r,...s})});i.displayName="CardHeader";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("h3",{className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),ref:r,...s})});c.displayName="CardTitle";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("p",{className:(0,a.cn)("text-sm text-muted-foreground",t),ref:r,...s})});l.displayName="CardDescription";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)("p-6 pt-0",t),ref:r,...s})});u.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)("flex items-center p-6 pt-0",t),ref:r,...s})}).displayName="CardFooter"},1253:function(e,r,t){"use strict";t.d(r,{_:function(){return l}});var n=t(6943),s=t(1080),a=t(8737),o=t(7879),i=t(8963);let c=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=o.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)(s.f,{className:(0,i.cn)(c(),t),ref:r,...a})});l.displayName=s.f.displayName},3749:function(e,r,t){"use strict";t.d(r,{g:function(){return o}});var n=t(6943),s=t(7879),a=t(8963);let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s})});o.displayName="Textarea"}},function(e){e.O(0,[176,984,922,465,744],function(){return e(e.s=6123)}),_N_E=e.O()}]);